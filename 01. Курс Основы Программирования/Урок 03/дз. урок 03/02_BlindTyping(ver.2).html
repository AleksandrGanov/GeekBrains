<meta charset="utf-8">
<script type="text/javascript">

	/*
	ОПИСАНИЕ:
	---------------
	-- добавить в программу тренировки слепой печати еще 2 уровня:
		-- уровень 2. ​​​пользователь ​​видит ​с​ообщение: ​“​Поставьте ​​мизинец ​​левой ​​руки ​​на ​​букву Ф, ​​безымянный ​​палец ​-​ ​​на ​​Ы, 
			​с​редний ​-​ ​​на ​​В, ​у​казательный ​-​ ​​на ​​А. ​​Мизинец ​​правой руки ​​на ​​букву ​​Ж, ​​безымянный ​​палец ​-​ ​​на ​​Д, ​с​редний ​-​ ​​на ​​Л, ​у​казательный ​-​ ​​на ​​О.
			Запомните ​​расположение ​​пальцев.. ​​А ​т​еперь, ​​повторяйте ​з​а ​​мной”. ​​Пользователь получает ​​последовательность ​​из ​​букв ​​Ы ​​и ​​В ​​длиной
			​​в ​​10 ​с​имволов, ​​и ​​должен ​​её воспроизвести. ​​Если ​​ему ​​это ​​не ​у​далось ​-​ ​​попытка ​​повторяется. ​​В ​с​лучае ​у​спеха переходим ​к​ ​с​ледующему ​у​ровню. 
		-- уровень 3. ​​​​пользователь ​​видит ​с​ообщение: ​“​Поставьте ​​мизинец ​​левой ​​руки ​​на ​​букву Ф, ​​безымянный ​​палец ​-​ ​​на ​​Ы, ​с​редний ​-​ ​​на ​​В, 
			​у​казательный ​-​ ​​на ​​А. ​​Мизинец ​​правой руки ​​на ​​букву ​​Ж, ​​безымянный ​​палец ​-​ ​​на ​​Д, ​с​редний ​-​ ​​на ​​Л, ​у​казательный ​-​ ​​на ​​О. Запомните ​​расположение
			​​пальцев.”. ​ ​​​Пользователь ​​получает ​​последовательность ​​из букв ​​О ​​и ​​Ж ​​длиной ​​в ​​10 ​с​имволов, ​​и ​​должен ​​её ​​воспроизвести. ​​Если ​​ему ​​это ​​не 
			удалось ​-​ ​​попытка ​​повторяется. ​​В ​с​лучае ​у​спеха ​​переходим ​к​ ​с​ледующему ​у​ровню
	
	ДОРАБОТКА:
	---------------
		-- перебор этапов и другие условия игры реализованы полностью с использованием функций
		-- в качестве хранилища алертов и условий формирования строки для ввода использованы массивы
		-- при сравнении не учитывает регистр введенных букв, т.к. суть тренажера в тренировке расположения клавищ
	*/

	// РЕАЛИЗАЦИЯ ФУНКЦИЙ

	function checkAnswer(ans, text) {
		if (ans == null) { userAlert(2); return true; }
		else if (ans.toLowerCase() == text.toLowerCase()) { userAlert(3); return true; }
		else { userAlert(4); return false; }
	}
	function gameStage(stgNumber) {
		do {
			userAlert("1" + stgNumber);
			// массив условий для генерации строк для каждого этапа
			var letters = [
				[["Ф", "А"], 10], //stage 01
				[["Ы", "В"], 10], //stage 02
				[["О", "Ж"], 10] //stage 03
			]
			var text = generateText(letters[stgNumber - 1][0], letters[stgNumber - 1][1]);
			var userText = prompt("Введите предлагаемый программой текст: " + text);
		} while (!checkAnswer(userText, text));
		stgNumber++;
		if (stgNumber <= 3) { gameStage(stgNumber) }
	}
	function generateText(arr, long) {
		var ret = "";
		for (var i = 0; i < long; i++) { ret += arr[getRandomNunber(arr.length - 1)]; }
		return ret;
	}
	function getRandomNunber(upperBound) {
		return Math.round(Math.random() * upperBound);
	}
	function userAlert(typeOfMessage) {
		var msgList = [
			[
				"ЭТАП №1\nПоложите 4 пальца левой руки - мезинец, безымянный, средний и указательный на клавиши ф ы в а. Запомните, что буква \"А\""
				+ "находится по Вашим указательным пальцем, а \"Ф\" - под мезинцем. \nТеперь неспеша набирайте текст, постарайтесь не смотреть на клавиатуру", //1.1
				"ЭТАП №2\nПоставьте ​​мизинец ​​левой ​​руки ​​на ​​букву Ф, ​​безымянный ​​палец ​-​ ​​на ​​Ы, ​с​редний ​-​ ​​на ​​В, ​у​казательный ​-​ ​​на ​​А. ​​Мизинец ​​правой руки ​​на ​​букву ​​Ж,"
				+ " ​​безымянный ​​палец ​-​ ​​на ​​Д, ​с​редний ​-​ ​​на ​​Л, ​у​казательный ​-​ ​​на ​​О. \nЗапомните ​​расположение ​​пальцев. ​​А ​т​еперь, ​​повторяйте ​з​а ​​мной", //1.2
				"ЭТАП №3\nПоставьте ​​мизинец ​​левой ​​руки ​​на ​​букву Ф, ​​безымянный ​​палец ​-​ ​​на ​​Ы, ​с​редний ​-​ ​​на ​​В, ​у​казательный ​-​ ​​на ​​А. ​​Мизинец ​​правой руки ​​на ​​букву ​​Ж,"
				+ " ​​безымянный ​​палец ​-​ ​​на ​​Д, ​с​редний ​-​ ​​на ​​Л, ​у​казательный ​-​ ​​на ​​О. Запомните ​​расположение пальцев" //1.3
			],
			"Вы пропустили текущий этап", //2
			"Все ОК, вы ввели верный текст", //3
			"Текст неверный, попробуйте еще раз", //4
			"Вас приветствует программа по обучению слепой печати", //5
			"Игра окончена, надеемся, Вам понравилось :-)" //6
		];
		// показываем пользователю нужный алерт
		if ((typeOfMessage.toString()).length == 1) { alert(msgList[typeOfMessage - 1]); }
		else { alert(msgList[typeOfMessage[0] - 1][typeOfMessage[1] - 1]); }
	}

	// ОСНОВНОЙ КОД

	userAlert(5); // выдаем приветственное сообщение
	gameStage(1); // начинаем с первого этапа
	userAlert(6); //выдаем сообщение об окончании игры

</script>